(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1399],{62600:function(e,s,t){"use strict";t.d(s,{r:function(){return a.Z}});var a=t(62653)},37122:function(e,s,t){Promise.resolve().then(t.bind(t,46361))},46361:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Vaults}});var a=t(31113),l=t(2794),n=t(50553),i=t(19757),r=t(59175),d=t(62600),c=t(83978),o=t.n(c),x=t(64103),m=t(99548),u=t(91214),p=t(6371),f=t(26504),h=t(22139),b=t(15506),v=t(26361),g=t(75930),j=t(84944),N=t(39341),k=t(58409),S=t(88501),w=t(53060),y=t(24626);function SimpleTabs(e){let{className:s,listClassName:t,triggerClassName:l,contentClassName:n,data:i,onTabChange:r}=e,[d,c]=(0,x.useState)(i[0].tab);return(0,a.jsxs)(y.fC,{value:d,className:(0,v.cn)("w-full",s),onValueChange:e=>{c(e),null==r||r(e)},children:[(0,a.jsx)(y.aV,{className:(0,v.cn)("bg-slate-100 p-1 w-fit rounded-md dark:bg-transparent",t),children:i.map(e=>(0,a.jsx)(y.xz,{className:(0,v.cn)('rounded-[3px] text-sm py-1.5 px-3 text-slate-500 font-medium data-[state="active"]:bg-white data-[state="active"]:text-slate-900 dark:bg-transparent dark:text-slate-50/60 dark:data-[state="active"]:text-slate-50',l),value:e.tab,children:e.tab},e.tab))}),i.map(e=>(0,a.jsx)(y.VY,{value:e.tab,className:(0,v.cn)("flex flex-col gap-6 outline-none",n),children:e.content},e.tab))]})}let T="$USB";function VaultCard(e){let{vc:s}=e,{balances:t,prices:l,vaultsMode:n}=(0,x.useContext)(g.g),d=(0,r.p)(),c=i.O6[d],o=n[s.vault],[y,A]=(0,x.useState)("Mint"),[C,B]=(0,x.useMemo)(()=>{let e="Mint"==y;return 3==o?["Adjustment Model--High AAR",e?"Minting ".concat(T," alone is feasible"):"Redeeming ".concat(s.xTokenSymbol," alone is feasible")]:2==o?["Adjustment Model--Low AAR",e?"Minting ".concat(s.xTokenSymbol," alone is feasible"):"Redeeming ".concat(T," alone is feasible")]:["Stability Model",e?"".concat(T," and ").concat(s.xTokenSymbol," will be minted in fixed ratio"):"Redemption require a fixed ration of ".concat(T," and ").concat(s.xTokenSymbol)]},[o,s,y]),[U,M]=(0,x.useState)(""),[P,R]=(0,x.useState)(""),E=(0,v.ok)(l,s.assetTokenAddress),W=(0,v.ok)(l,s.xTokenAddress),q=t[s.assetTokenAddress],D=t[i.O1[d]],F=t[s.xTokenAddress],[{usbAmount:_,xAmount:L,redeemActive:V,redeemFocus:z},O]=(0,k.Z)({usbAmount:"",xAmount:"",redeemActive:"",redeemFocus:"USB"}),I=(0,x.useMemo)(()=>({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcMintPairs",args:[s.vault,(0,v.su)(U||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcMintUsbAboveAARU",args:[s.vault,(0,v.su)(U||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcMintMarginTokensBelowAARS",args:[s.vault,(0,v.su)(U||"0")]}],watch:!0,enabled:"Mint"==y}),[s,U,y]),{data:[Z,H,K]=[void 0,void 0,void 0]}=(0,b.uX)(I),$=(0,v.ok)(Z,["result",1]),Y=(0,v.ok)(Z,["result",2]),X=(0,v.ok)(H,["result",1]),G=(0,v.ok)(K,["result",1]),{data:[J,Q]=[void 0,void 0]}=(0,b.uX)({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcPairdMarginTokenAmount",args:[s.vault,(0,v.su)(_||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcPairedUsbAmount",args:[s.vault,(0,v.su)(L||"0")]}],query:{enabled:"Redeem"==y}}),{data:[ee,es]=[void 0,void 0]}=(0,b.uX)({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcRedeemByMarginTokenAboveAARU",args:[s.vault,(0,v.su)(L||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcRedeemByUsbBelowAARS",args:[s.vault,(0,v.su)(_||"0")]}],query:{enabled:"Redeem"==y}}),et=(0,v.ok)(J,["result"]),ea=(0,v.ok)(Q,["result"]),el=(0,v.ok)(ee,["result",1]),en=(0,v.ok)(es,["result",1]),ei=V==s.xTokenSymbol,er="USB"==V,ed=(0,x.useMemo)(()=>{let e={abi:f.WW,address:s.vault,args:[(0,v.su)(U)],value:s.assetTokenAddress==i.K8?(0,v.su)(U):0n,functionName:"mintPairs"};return"USB"==P&&(e.functionName="mintUsbAboveAARU"),P==s.xTokenSymbol&&(e.functionName="mintMarginTokensBelowAARS"),e},[o,P,U,s]),ec=P==s.xTokenSymbol?0n:"USB"===P?X:$,eo="USB"==P?0n:P===s.xTokenSymbol?G:Y,ex=ei?"0":"USB"==z?_:(0,w.d)(ea),em=er?"0":z==s.xTokenSymbol?L:(0,w.d)(et),eu=(0,x.useMemo)(()=>({vc:s,watch:!0,abi:f.Wn,address:c,functionName:"calcPairedRedeemAssetAmount",args:[s.vault,(0,v.su)(em||"0")]}),[s,em]),{data:ep}=(0,b.D2)(eu),ef=ei?el:er?en:(0,v.ok)(ep,[1]),eh=(0,x.useMemo)(()=>{let e={abi:f.WW,address:s.vault,functionName:"USB"==V?"redeemByPairsWithExpectedUsbAmount":"redeemByPairsWithExpectedMarginTokenAmount",args:"USB"==V?[(0,v.su)(ex)]:[(0,v.su)(em)]};return V==s.xTokenSymbol&&(e.functionName="redeemByMarginTokenAboveAARU",e.args=[(0,v.su)(em)]),"USB"==V&&(e.functionName="redeemByUsbBelowAARS",e.args=[(0,v.su)(ex)]),e},[o,V,ex,em,s]);return(0,a.jsxs)("div",{className:(0,S.m)("card relative h-[460px]",o>1?"!bg-violet-500/10":""),children:[(0,a.jsx)("div",{className:"page-sub text-center",children:"Advanced Panel"}),(0,a.jsx)("div",{className:"absolute top-[50px] right-6 flex flex-col items-end z-10",children:(0,a.jsxs)("div",{className:(0,S.m)("text-sm leading-5 flex items-center gap-1.5 rounded-full w-fit"),children:[(0,a.jsx)("div",{className:(0,S.m)("w-3 h-3 rounded-full","Stability Model"==C?"bg-green-500":"bg-red-500")}),(0,a.jsx)(p.C,{node:(0,a.jsx)("div",{className:(0,S.m)("Stability Model"==C?"text-green-500":"text-red-500"),children:C}),children:B})]})}),(0,a.jsx)("div",{className:"relative flex items-center justify-between",children:(0,a.jsx)(SimpleTabs,{onTabChange:A,data:[{tab:"Mint",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(u.W,{asset:s.assetTokenSymbol,exchange:(0,j.dq)(E*(0,v.su)(U)/h.Pq),balance:q,amount:U,setAmount:M}),(0,a.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,a.jsx)(N.gPZ,{})}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)(u.W,{amount:(0,j.ZM)(ec),onClick:()=>{R(3==o?"USB":"")},asset:"USB",exchange:(0,j.dq)(ec),readonly:!0,disable:o<=1,selected:"USB"===P}),(0,a.jsx)(u.W,{amount:(0,j.ZM)(eo),onClick:()=>{R(2==o?s.xTokenSymbol:"")},asset:s.xTokenSymbol,exchange:(0,j.dq)(W*eo/h.Pq),readonly:!0,disable:o<=1,selected:P===s.xTokenSymbol})]}),(0,a.jsx)(m.v,{tx:"Mint",disabled:s.disableIn||0n==(0,v.su)(U)||(0,v.su)(U)>q,onTxSuccess:()=>{M("")},config:ed,approves:{[s.assetTokenAddress]:(0,v.su)(U)},spender:s.vault})]})},{tab:"Redeem",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(u.W,{amount:ex,setAmount:e=>O({usbAmount:e}),balance:D,onClick:()=>{O({redeemActive:2==o?"USB":"",redeemFocus:"USB"})},asset:"USB",exchange:(0,j.dq)((0,v.su)(ex)),readonly:V==s.xTokenSymbol,selected:"USB"===V}),(0,a.jsx)(u.W,{amount:em,setAmount:e=>O({xAmount:e}),asset:s.xTokenSymbol,onClick:()=>{O({redeemActive:3==o?s.xTokenSymbol:"",redeemFocus:s.xTokenSymbol})},exchange:(0,j.dq)((0,v.su)(em)*W/h.Pq),balance:F,readonly:"USB"==V,selected:V===s.xTokenSymbol})]}),(0,a.jsxs)("div",{className:"flex w-full items-center mb-6",children:[(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 ",children:(0,a.jsx)(N.gPZ,{})}),(0,a.jsx)("div",{className:"flex-1 text-sm text-slate-400 text-end whitespace-nowrap",children:"Redemption Fee: 0.5%"})]}),(0,a.jsx)("div",{className:"w-full text-end"}),(0,a.jsx)(u.W,{asset:s.assetTokenSymbol,amount:(0,w.d)(ef),exchange:(0,j.dq)(E*ef/h.Pq),readonly:!0}),(0,a.jsx)(m.v,{tx:"Redeem",config:eh,disabled:er&&0n==(0,v.su)(ex)||ei&&0n==(0,v.su)(em)||!er&&!ei&&(0n==(0,v.su)(ex)||0n==(0,v.su)(em))||(0,v.su)(ex)>D||(0,v.su)(em)>F,onTxSuccess:()=>{O({usbAmount:"",xAmount:""})},spender:s.vault})]})}]})})]})}var A=t(73216),C=t(76034),B=t(31040),U=t(33501),M=t(23125),P=t(69426),R=t(72366),E=t(64040),W=t(33621),q=t(35664);function StableVaultCard(e){let{vc:s}=e,{balances:t,prices:l,stableVaultsState:n}=(0,x.useContext)(g.g),d=(0,r.p)(),c=i.O6[d],[o,y]=(0,x.useState)("Mint"),[T,A]=(0,x.useState)(""),[C,B]=(0,x.useState)(""),U=n[s.vault],M=U.aar>0&&U.aar<U.AARS,P=l[s.assetTokenAddress],R=l[s.xTokenAddress],E=t[s.assetTokenAddress],W=t[i.O1[d]],q=t[s.xTokenAddress],[{usbAmount:D,xAmount:F,redeemActive:_,redeemFocus:L},V]=(0,k.Z)({usbAmount:"",xAmount:"",redeemActive:"",redeemFocus:"USB"}),z=(0,x.useMemo)(()=>({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcMintPairsFromStableVault",args:[s.vault,(0,v.su)(T||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcMintUsbFromStableVault",args:[s.vault,(0,v.su)(T||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcMintMarginTokensFromStableVault",args:[s.vault,(0,v.su)(T||"0")]}],watch:!0,enabled:"Mint"==o}),[s,T,o]),{data:[O,I,Z]=[void 0,void 0,void 0]}=(0,b.uX)(z),H=(0,v.ok)(O,["result",1]),K=(0,v.ok)(O,["result",2]),$=(0,v.ok)(I,["result",1]),Y=(0,v.ok)(Z,["result",1]),{data:[X,G]=[void 0,void 0]}=(0,b.uX)({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcPairdMarginTokenAmountForStableVault",args:[s.vault,(0,v.su)(D||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcPairedUsbAmountForStableVault",args:[s.vault,(0,v.su)(F||"0")]}],query:{enabled:"Redeem"==o}}),{data:[J,Q]=[void 0,void 0]}=(0,b.uX)({contracts:[{vc:s,abi:f.Wn,address:c,functionName:"calcRedeemByMarginTokensFromStableVault",args:[s.vault,i.e_[d],(0,v.su)(F||"0")]},{vc:s,abi:f.Wn,address:c,functionName:"calcRedeemByUsbFromStableVault",args:[s.vault,i.e_[d],(0,v.su)(D||"0")]}],query:{enabled:"Redeem"==o}}),ee=(0,v.ok)(X,["result"]),es=(0,v.ok)(G,["result"]),et=(0,v.ok)(J,["result",1]),ea=(0,v.ok)(Q,["result",1]),el=_==s.xTokenSymbol,en="USB"==_,ei=(0,x.useMemo)(()=>{let e={abi:f.S4,address:s.vault,functionName:"mintPairs",args:[(0,v.su)(T)],value:s.assetTokenAddress==i.K8?(0,v.su)(T):0n};return"USB"==C&&(e.functionName="mintUsb"),C==s.xTokenSymbol&&(e.functionName="mintMarginTokens"),e},[C,T,s]),er=C==s.xTokenSymbol?0n:"USB"===C?$:H,ed="USB"==C?0n:C===s.xTokenSymbol?Y:K,ec=el?"0":"USB"==L?D:(0,w.d)(es),eo=en?"0":L==s.xTokenSymbol?F:(0,w.d)(ee),ex=(0,x.useMemo)(()=>({vc:s,watch:!0,abi:f.Wn,address:c,functionName:"calcRedeemByPairsAssetAmountForStableVault",args:[s.vault,i.e_[d],(0,v.su)(eo||"0")]}),[s,eo]),{data:em}=(0,b.D2)(ex),eu=el?et:en?ea:(0,v.ok)(em,[1]),ep=(0,x.useMemo)(()=>{let e={abi:f.S4,address:s.vault,functionName:"USB"==_?"redeemByPairsWithExpectedUsbAmount":"redeemByPairsWithExpectedMarginTokenAmount",args:"USB"==_?[(0,v.su)(ec)]:[(0,v.su)(eo)]};return _==s.xTokenSymbol&&(e.functionName="redeemByMarginTokens",e.args=[(0,v.su)(eo)]),"USB"==_&&(e.functionName="redeemByUsb",e.args=[(0,v.su)(ec)]),e},[_,ec,eo,s]);return(0,a.jsxs)("div",{className:(0,S.m)("card relative h-[460px]"),children:[(0,a.jsx)("div",{className:"page-sub text-center",children:"Advanced Panel"}),(0,a.jsx)("div",{className:"absolute top-[50px] right-6 flex flex-col items-end z-10",children:(0,a.jsx)(p.C,{node:(0,a.jsxs)("div",{className:(0,S.m)("text-sm leading-5 flex items-center gap-1.5 rounded-full w-fit"),children:[(0,a.jsx)("div",{className:(0,S.m)("w-3 h-3 rounded-full",M?"bg-red-500":"bg-green-500")}),(0,a.jsx)("div",{className:(0,S.m)(M?"text-red-500":"text-green-500"),children:M?"Adjustment Model":"Stability Model"})]}),children:M?"Mint"==o?"Minting USB alone is not feasible":"Redeeming USDBx alone is not feasible":""})}),(0,a.jsx)("div",{className:"relative flex items-center justify-between",children:(0,a.jsx)(SimpleTabs,{onTabChange:y,data:[{tab:"Mint",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(u.W,{asset:s.assetTokenSymbol,exchange:(0,j.dq)(P*(0,v.su)(T)/h.Pq),balance:E,amount:T,setAmount:A}),(0,a.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,a.jsx)(N.gPZ,{})}),(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)(u.W,{amount:(0,j.ZM)(er),onClick:()=>{B(M?"":"USB"==C?"":"USB")},asset:"USB",exchange:(0,j.dq)(er),readonly:!0,selected:"USB"===C}),(0,a.jsx)(u.W,{amount:(0,j.ZM)(ed),onClick:()=>{B(C==s.xTokenSymbol?"":s.xTokenSymbol)},asset:s.xTokenSymbol,exchange:(0,j.dq)(R*ed/h.Pq),readonly:!0,selected:C===s.xTokenSymbol})]}),(0,a.jsx)(m.v,{tx:"Mint",disabled:s.disableIn||0n==(0,v.su)(T)||(0,v.su)(T)>E,onTxSuccess:()=>{A("")},config:ei,approves:{[s.assetTokenAddress]:(0,v.su)(T)},spender:s.vault})]})},{tab:"Redeem",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(u.W,{amount:ec,setAmount:e=>V({usbAmount:e}),balance:W,onClick:()=>{V({redeemActive:"USB"==_?"":"USB",redeemFocus:"USB"})},asset:"USB",exchange:(0,j.dq)((0,v.su)(ec)),readonly:_==s.xTokenSymbol,selected:"USB"===_}),(0,a.jsx)(u.W,{amount:eo,setAmount:e=>V({xAmount:e}),asset:s.xTokenSymbol,onClick:()=>{V({redeemActive:M?"":_==s.xTokenSymbol?"":s.xTokenSymbol,redeemFocus:s.xTokenSymbol})},exchange:(0,j.dq)((0,v.su)(eo)*R/h.Pq),balance:q,readonly:"USB"==_,selected:_===s.xTokenSymbol})]}),(0,a.jsxs)("div",{className:"flex w-full items-center mb-6",children:[(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 ",children:(0,a.jsx)(N.gPZ,{})}),(0,a.jsx)("div",{className:"flex-1 text-sm text-slate-400 text-end whitespace-nowrap",children:"Redemption Fee: 0.5%"})]}),(0,a.jsx)("div",{className:"w-full text-end"}),(0,a.jsx)(u.W,{asset:s.assetTokenSymbol,amount:(0,w.d)(eu),exchange:(0,j.dq)(P*eu/h.Pq),readonly:!0}),(0,a.jsx)(m.v,{tx:"Redeem",config:ep,disabled:en&&0n==(0,v.su)(ec)||el&&0n==(0,v.su)(eo)||!en&&!el&&(0n==(0,v.su)(ec)||0n==(0,v.su)(eo))||(0,v.su)(ec)>W||(0,v.su)(eo)>q,onTxSuccess:()=>{V({usbAmount:"",xAmount:""})},spender:s.vault})]})}]})})]})}var D=t(2987);let F=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,a.jsx)("path",{d:"M6.50322 7.50486L6.99579 8L13.7977 1.19284C14.0674 0.91867 14.0674 0.478772 13.7977 0.20665C13.6669 0.0736573 13.489 0 13.3051 0C13.1191 0 12.9433 0.0736573 12.8125 0.204604L6.99783 6.02353L1.18926 0.204604C1.05845 0.0736573 0.880637 0 0.696692 0C0.510703 0 0.334934 0.0736573 0.204129 0.204604C-0.0677012 0.478772 -0.0677012 0.91867 0.202085 1.19284L6.47665 7.47622L6.50322 7.50486Z",fill:"#6466F1"})}),_=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,a.jsx)("path",{d:"M7.49678 0.495141L7.00421 0L0.202339 6.80716C-0.0674467 7.08133 -0.0674467 7.52123 0.202339 7.79335C0.333144 7.92634 0.510958 8 0.694902 8C0.880891 8 1.05666 7.92634 1.18747 7.7954L7.00217 1.97647L12.8107 7.7954C12.9415 7.92634 13.1194 8 13.3033 8C13.4893 8 13.6651 7.92634 13.7959 7.7954C14.0677 7.52123 14.0677 7.08133 13.7979 6.80716L7.52335 0.523785L7.49678 0.495141Z",fill:"#6466F1"})}),L=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("circle",{cx:"7",cy:"7",r:"5",fill:"white",stroke:"#00DE9C",strokeWidth:"4"})}),V=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:(0,a.jsx)("circle",{cx:"7",cy:"7",r:"5",fill:"white",stroke:"#FF3D3D",strokeWidth:"4"})}),z=(0,a.jsx)("div",{className:"mr-[10px]",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",children:(0,a.jsx)("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"#64748B"})})});function VaultSimple(e){let{vc:s}=e,{balances:t,prices:l,vaultsMode:n,stableVaultsState:d}=(0,x.useContext)(g.g),c=(0,v.ok)(l,s.assetTokenAddress),o=n[s.vault],N=s.assetTokenSymbol,[k,S]=(0,x.useState)(""),w=(0,v.su)(k),y=s.xTokenSymbol,T=t[s.assetTokenAddress],A=d[s.vault],[C,B]=(0,x.useState)(""),U=(0,r.p)(),{data:M}=(0,b.D2)({abi:f.Wn,address:i.O6[U],functionName:s.isStable?"calcMintPairsFromStableVault":"calcMintPairs",args:[s.vault,(0,v.su)("1")]}),{data:R}=(0,b.D2)({abi:f.Wn,address:i.O6[U],functionName:"calcMintMarginTokensFromStableVault",args:[s.vault,(0,v.su)("1")],query:{enabled:s.isStable}}),E=s.isStable&&0n==A.M_USDCx?0n:(0,v.ok)(M,[1]),q=s.isStable&&0n==A.M_USDCx?(0,v.ok)(R,[1]):(0,v.ok)(M,[2]),F=t[i.O1[U]],_=t[s.xTokenAddress],L=(0,v.NA)([q>0n?_*h.Pq/q:0n,E>0n?F*h.Pq/E:0n]),V=(0,v.su)(C),z=(0,x.useMemo)(()=>{let e={abi:s.isStable?f.S4:f.WW,address:s.vault,functionName:"redeemByPairsWithExpectedMarginTokenAmount",args:[V*q/h.Pq]};return e},[o,V,q,s]);return(0,a.jsx)("div",{className:"relative flex items-center justify-between w-full",children:(0,a.jsxs)("div",{className:"bg-white relative border border-1 border-[#E4E4E7] p-[20px] pt-0 rounded-[16px] w-full dark:bg-transparent dark:border dark:border-zinc-600",children:[(0,a.jsx)(D.o,{trigger:(0,a.jsxs)("div",{className:"absolute w-fit h-[21px] right-[20px] top-[30px] flex items-center gap-1 cursor-pointer",children:[(0,a.jsx)(P.b9P,{className:"text-xl text-indigo-500"}),(0,a.jsx)(p.C,{inFlex:!0,className:" text-slate-500",children:s.isStable?"The advanced panel allows for the individual Minting or Redeeming of USB and ".concat(s.xTokenSymbol,"."):"More flexible operations can be conducted using the advanced panel in adjustment mode."})]}),children:s.isStable?(0,a.jsx)(StableVaultCard,{vc:s}):(0,a.jsx)(VaultCard,{vc:s})}),(0,a.jsx)(SimpleTabs,{data:[{tab:"Deposit",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(u.W,{asset:N,exchange:(0,j.dq)(c*w/h.Pq),balance:T,amount:k,setAmount:S}),(0,a.jsxs)("div",{className:"text-xs text-[#64748B] dark:text-slate-50/60 leading-[12px] flex items-center pl-[5px] mt-[6px]",children:["1 ",(0,a.jsx)(W.c,{className:"mx-1",symbol:N,size:12}),N," = ",(0,j.dq)(q)," ",(0,a.jsx)(W.c,{className:"mx-1",symbol:y,size:12})," ",N,"x +",(0,j.dq)(E)," ",(0,a.jsx)(W.c,{className:"mx-1",symbol:"USB",size:12})," USB"]}),(0,a.jsx)(m.v,{tx:"Deposit",className:s.isStable?"":"md:mt-11",disabled:s.disableIn||w<=0n||w>T,onTxSuccess:()=>{S("")},config:{abi:f.S4,address:s.vault,args:[w],value:s.assetTokenAddress==i.K8?w:0n,functionName:s.isStable&&0n==A.M_USDCx?"mintMarginTokens":"mintPairs"},approves:{[s.assetTokenAddress]:w},spender:s.vault})]})},{tab:"Withdraw",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)(u.W,{amount:C,setAmount:B,balance:L,balanceTit:"Redeemable amount",asset:N,exchange:(0,j.dq)(c*V/h.Pq)})}),(0,a.jsxs)("div",{className:"text-xs text-[#64748B] dark:text-slate-50/60 leading-[12px] md:flex md:items-center md:justify-between pl-[5px] mt-[6px]",children:[(0,a.jsxs)("span",{className:"flex",children:[y," Balanceï¼š",(0,a.jsx)(W.c,{className:"mx-1",symbol:y,size:12})," ",(0,j.dq)(_)]}),(0,a.jsxs)("span",{className:(0,v.cn)("flex relative"),children:["USB Balance: ",(0,a.jsx)(W.c,{className:"mx-1",symbol:"USB",size:12})," ",(0,j.dq)(F)]})]}),!s.isStable&&(0,a.jsxs)("div",{className:"relative mt-2 text-xs text-center text-slate-500 dark:text-slate-50/70 md:text-right ",children:["Maintaining USB balance greater than your Margin",(0,a.jsx)("br",{className:"hidden md:block"}),"Loan allows you to redeem your total Open Position"]}),(0,a.jsx)(m.v,{tx:"Withdraw",className:(0,v.cn)({"md:mt-1":!s.isStable}),config:z,disabled:0n==E||0n==q||V<=0n||V>L,onTxSuccess:()=>{console.info("Redeem onSuccess:"),B("")},spender:s.vault})]})}]})]})})}let ExpandUI=e=>{let{onClick:s,isOpen:t}=e;return(0,a.jsx)("div",{className:"flex items-center justify-center py-5 md:hidden",children:(0,a.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-[#6466F1] flex items-center text-xs text-[#6466F1] cursor-pointer ",onClick:s,children:[(0,a.jsx)("span",{className:"mr-[5px]",children:t?"Hide":"Details"}),t?_:F]})})};function VaultCollapse(e){let{vc:s}=e,t=(0,r.p)(),{balances:l,prices:n,vaultsMode:d,vaultsState:c,stableVaultsState:o,vaultsDiscount:m}=(0,x.useContext)(g.g),u=(0,C.z)(s),f=(0,v.ok)(n,s.assetTokenAddress),b=c[s.vault],N=o[s.vault],k=s.isStable?N.M_USDC:b.M_ETH,S=s.isStable?N.M_USDCx:b.M_ETHx,w=s.isStable?N.M_USB_USDC:b.M_USB_ETH,y=(0,j.dq)(k),T=(0,j.dq)(S),U=(0,j.dq)(k*f/h.Pq),P=(0,j.dq)(w),D=s.isStable?(0,v.Rr)(N.aar,N.AARDecimals):(0,v.Rr)(b.aar,b.AARDecimals),O=d[s.vault],I=S>0n?l[s.xTokenAddress]*k/S:0n,Z=S>0n?-(l[s.xTokenAddress]*w)/S:0n,H=m[s.vault],{address:K}=(0,R.m)(),[$,Y]=(0,x.useState)(!1),X=s.xTokenSymbol,onCollapseChange=()=>{Y(!$)},{data:G}=(0,E.p)(),J=(0,x.useRef)(null);return(0,a.jsxs)("div",{className:(0,v.cn)("card p-0",{"order-1":!s.assetTokenSymbol.includes((0,A.b)())}),children:[(0,a.jsxs)("div",{ref:J,className:"flex flex-col items-center justify-between w-full gap-5 p-4 cursor-pointer md:flex-row md:p-10",onClick:e=>e.target==J.current&&onCollapseChange(),children:[(0,a.jsxs)("div",{className:"flex flex-col w-full md:flex-row md:w-[85%] gap-4 md:gap-5",children:[(0,a.jsxs)("div",{className:"flex w-full relative md:w-[10rem] flex-shrink-0",children:[(0,a.jsx)(W.c,{symbol:s.assetTokenSymbol,size:32}),(0,a.jsxs)("div",{className:"ml-[5px] flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-semibold whitespace-nowrap",children:s.assetTokenSymbol}),(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-medium",children:["$",(0,j.dq)(n[s.assetTokenAddress])]})]})]}),(0,a.jsx)("div",{className:"h-[1px] w-full bg-[#E4E4E7] dark:bg-zinc-600 md:hidden"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-5 gap-y-[2rem] md:gap-[4rem] border-t-1 border-[#E4E4E7] md:border-0",children:[(0,a.jsxs)("div",{className:"relative flex flex-col justify-between gap-2 md:gap-0",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Total Deposit"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{symbol:s.assetTokenSymbol,size:14}),(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium ml-[5px]",children:y})]}),(0,a.jsxs)("div",{className:"absolute bottom-[-14px] md:bottom-[-24px] text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px]",children:["~$",U]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"USB Debt"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mx-1",symbol:"USB",size:14}),(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium ml-[5px]",children:P})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:[X,(0,a.jsx)(p.C,{children:"This is a margin token, representing open position in the vault."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mx-1",symbol:X,size:14}),(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium ml-[5px]",children:T})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:["AAR",(0,a.jsx)(p.C,{children:"Asset Adequacy Ratio"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:D})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Status"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-[10px]",children:O<=1?L:V}),O<=1?"Stability":"Adjustment"]})})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Discount Offer"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:" text-[14px] leading-[14px] font-medium",children:H?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-[10px]",children:V}),"Yes"]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-[10px]",children:L}),"No"]})})})]})]})]}),(0,a.jsxs)("div",{className:"items-center text-xs text-[#6466F1] cursor-pointer hidden md:flex",onClick:onCollapseChange,children:[(0,a.jsx)("span",{className:"mr-[5px]",children:$?"Hide":"Details"}),$?_:F]})]}),(0,a.jsx)(M.Collapse,{isOpened:$,className:"ease-linear",children:(0,a.jsxs)("div",{className:"w-full rounded-b-[16px] bg-[#F2F5F9] dark:bg-transparent p-4 md:p-6 dark:border-t dark:border-zinc-600",children:[(0,a.jsxs)("div",{className:"grid w-full grid-cols-1 gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"hidden md:flex",children:[(0,a.jsx)("div",{className:"flex items-center mb-5 md:h-full md:mb-0",children:(0,a.jsxs)("div",{className:"flex mr-[55px]",children:[(0,a.jsx)(W.c,{symbol:s.xTokenSymbol,size:32,className:"shrink-0"}),(0,a.jsxs)("div",{className:"ml-[5px] flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-semibold ",children:X}),(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-medium leading-[14px]",children:["$",(0,j.dq)(n[s.xTokenAddress])]})]})]})}),(0,a.jsxs)("div",{className:"w-full min-h-[108px] flex flex-col justify-center",children:[K&&!s.isStable&&(0,a.jsxs)("div",{className:"h-[84px] w-fit min-w-[220px] self-end p-[20px] shrink-0 text-[#64748B] dark:text-slate-50/60 text-xs font-medium leading-[12px] bg-white dark:bg-transparent dark:border dark:border-zinc-600 rounded-l-2xl rounded-t-2xl mb-[10px] whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-[16px] gap-5",children:[(0,a.jsx)("div",{children:"Open Position"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mr-1",symbol:s.assetTokenSymbol,size:12}),(0,j.dq)(I)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-[16px] gap-5",children:[(0,a.jsxs)("div",{children:["Margin Loan",(0,a.jsxs)(p.C,{children:["Repay your margin loan to redeem ",s.assetTokenSymbol," corresponding to your open position."]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mr-1",symbol:"USB",size:12}),(0,j.dq)(Z)]})]})]}),(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 w-fit text-xs font-medium leading-[12px] bg-white dark:bg-transparent dark:border dark:border-zinc-600 px-[30px] py-[23px] rounded-r-2xl rounded-b-2xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-[16px]",children:[z,u.toFixed(2),"x"," ",(0,A.WA)()&&s.isStable?"Blast Native Yield":"Leveraged long on ".concat(s.assetTokenSymbol)]}),(0,a.jsxs)("div",{className:"flex items-center mb-[16px] cursor-pointer",onClick:()=>{s&&(null==G||G.watchAsset({type:"ERC20",options:{address:s.xTokenAddress,symbol:s.xTokenSymbol,decimals:18}}).catch(v.S3))},children:[z,"Add ",s.xTokenSymbol," to wallet"]}),(0,a.jsxs)("div",{className:"flex items-center mb-[16px] cursor-pointer",onClick:()=>{null==G||G.watchAsset({type:"ERC20",options:{address:i.O1[t],symbol:"USB",decimals:18}}).catch(v.S3)},children:[z,"Add USB to wallet"]}),(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>{var e,a;let l=A.Af.find(e=>e.id==t);l&&s&&open("".concat(null===(a=l.blockExplorers)||void 0===a?void 0:null===(e=a.default)||void 0===e?void 0:e.url,"/address/").concat(s.vault),"_blank")},children:[z,"View contract"]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center w-full",children:K&&s&&42==s.vault.length?(0,a.jsx)(VaultSimple,{vc:s}):s&&42==s.vault.length?(0,a.jsx)(q.Z,{}):(0,a.jsx)(B.Z,{className:"rounded",children:"Comming soon"})})]}),(0,a.jsx)(ExpandUI,{onClick:onCollapseChange,isOpen:$})]})}),!$&&(0,a.jsx)(ExpandUI,{onClick:onCollapseChange,isOpen:$})]})}function GroupVaultCollapse(e){let{vcs:s}=e,[t,l]=(0,x.useState)(s[s.length-1]);return t?1==s.length?(0,a.jsx)(VaultCollapse,{vc:s[0]}):(0,a.jsxs)("div",{className:(0,v.cn)("relative"),children:[(0,a.jsx)(VaultCollapse,{vc:t}),(0,a.jsx)("div",{className:"absolute z-10 right-[50px] top-0 flex text-sm",children:s.map((e,s)=>(0,a.jsx)("div",{className:(0,U.Z)("cursor-pointer rounded-b-full border border-blue-500 px-1 py-1",{"bg-white ":t!==e,"bg-blue-500 text-white":t===e}),onClick:()=>l(e),children:"V".concat(s+1)},"gvc_"+s))})]}):null}let O={};function PointsIcons(e){let{className:s,icons:t}=e,l=(0,r.p)(),n=!A.DF.find(e=>e.id==l);console.info("isUnBlast",n);let i=t.filter(e=>!n||!["blast","gold"].includes(e));return(0,a.jsxs)("div",{className:(0,v.cn)("flex gap-1 items-center",s),children:[(0,a.jsx)("span",{className:"mr-2",children:"Points:"}),i.map((e,s)=>(0,a.jsx)("img",{className:"rounded-full w-5 h-5 object-fill",alt:e,src:O[e]||"".concat(e,".png")},e))]})}let I=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,a.jsx)("path",{d:"M6.50322 7.50486L6.99579 8L13.7977 1.19284C14.0674 0.91867 14.0674 0.478772 13.7977 0.20665C13.6669 0.0736573 13.489 0 13.3051 0C13.1191 0 12.9433 0.0736573 12.8125 0.204604L6.99783 6.02353L1.18926 0.204604C1.05845 0.0736573 0.880637 0 0.696692 0C0.510703 0 0.334934 0.0736573 0.204129 0.204604C-0.0677012 0.478772 -0.0677012 0.91867 0.202085 1.19284L6.47665 7.47622L6.50322 7.50486Z",fill:"#6466F1"})}),Z=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"8",viewBox:"0 0 14 8",fill:"none",children:(0,a.jsx)("path",{d:"M7.49678 0.495141L7.00421 0L0.202339 6.80716C-0.0674467 7.08133 -0.0674467 7.52123 0.202339 7.79335C0.333144 7.92634 0.510958 8 0.694902 8C0.880891 8 1.05666 7.92634 1.18747 7.7954L7.00217 1.97647L12.8107 7.7954C12.9415 7.92634 13.1194 8 13.3033 8C13.4893 8 13.6651 7.92634 13.7959 7.7954C14.0677 7.52123 14.0677 7.08133 13.7979 6.80716L7.52335 0.523785L7.49678 0.495141Z",fill:"#6466F1"})});function plain_vault_VaultSimple(e){let{vc:s}=e,{balances:t,prices:l,plainVaultsStat:n}=(0,x.useContext)(g.g),r=(0,v.ok)(l,s.assetToken),d=s.assetTokenSymbol,[c,o]=(0,x.useState)(""),p=(0,v.su)(c),b=t[s.assetToken],N=n[s.vault].userStaked,[k,S]=(0,x.useState)(""),w=(0,v.su)(k),y=(0,x.useMemo)(()=>{let e={abi:f.a4,address:s.vault,functionName:"withdraw",args:[w]};return e},[w,s]);return(0,a.jsx)("div",{className:"w-full relative flex items-center justify-between",children:(0,a.jsx)("div",{className:"bg-white relative border border-1 border-[#E4E4E7] p-5 rounded-[16px] w-full dark:bg-transparent dark:border dark:border-zinc-600",children:(0,a.jsx)(SimpleTabs,{data:[{tab:"Deposit",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(u.W,{asset:d,exchange:(0,j.dq)(r*p/h.Pq),balance:b,amount:c,setAmount:o}),(0,a.jsx)("div",{className:"text-xs text-[#64748B] dark:text-slate-50/60 leading-[12px] flex items-center pl-[5px] mt-[6px]"}),(0,a.jsx)(m.v,{tx:"Deposit",disabled:p<=0n||p>b,onTxSuccess:()=>{o("")},config:{abi:f.a4,address:s.vault,args:[p],value:s.assetToken==i.K8?p:0n,functionName:"stake"},approves:{[s.assetToken]:p},spender:s.vault})]})},{tab:"Withdraw",content:(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)(u.W,{amount:k,setAmount:S,balance:N,balanceTit:"Deposited",asset:d,exchange:(0,j.dq)(r*w/h.Pq)})}),(0,a.jsx)("div",{className:"text-xs text-[#64748B] dark:text-slate-50/60 leading-[12px] md:flex md:items-center md:justify-between pl-[5px] mt-[6px]",children:(0,a.jsx)("span",{className:"flex"})}),(0,a.jsx)(m.v,{tx:"Withdraw",config:y,disabled:w<=0n||w>N,onTxSuccess:()=>{console.info("Redeem onSuccess:"),S("")}})]})}]})})})}let plain_vault_ExpandUI=e=>{let{onClick:s,isOpen:t}=e;return(0,a.jsx)("div",{className:"flex md:hidden justify-center  items-center py-5",children:(0,a.jsxs)("div",{className:"px-2 py-1 rounded-full border border-solid border-[#6466F1] flex items-center text-xs text-[#6466F1] cursor-pointer ",onClick:s,children:[(0,a.jsx)("span",{className:"mr-[5px]",children:t?"Hide":"Details"}),t?Z:I]})})};function PlainVault(e){let{vc:s}=e,{prices:t,plainVaultsStat:l}=(0,x.useContext)(g.g),n=(0,v.ok)(t,s.assetToken),i=l[s.vault].totalSupply,r=(0,j.dq)(i),d=(0,j.dq)(i*n/h.Pq),{address:c}=(0,R.m)(),[o,m]=(0,x.useState)(!1),u="".concat(s.assetTokenSymbol,"x"),onCollapseChange=()=>{m(!o)},f=(0,x.useRef)(null);return(0,a.jsxs)("div",{className:"card p-0",children:[(0,a.jsxs)("div",{ref:f,className:"w-full flex flex-col gap-5 md:flex-row justify-between items-center p-4 md:p-10 cursor-pointer",onClick:e=>e.target==f.current&&onCollapseChange(),children:[(0,a.jsxs)("div",{className:"flex flex-col w-full md:flex-row md:w-[85%] gap-4 md:gap-5",children:[(0,a.jsxs)("div",{className:"flex w-full relative md:w-[10rem] flex-shrink-0",children:[(0,a.jsx)(W.c,{symbol:s.assetTokenSymbol,size:32}),(0,a.jsxs)("div",{className:"ml-[5px] flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-sm font-semibold whitespace-nowrap",children:s.assetTokenSymbol}),(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-medium",children:["$",(0,j.dq)(n)]})]}),(0,a.jsx)(PointsIcons,{icons:["ethfi","weeth"],className:"ml-auto md:absolute top-10 left-0"})]}),(0,a.jsx)("div",{className:"h-[1px] w-full bg-[#E4E4E7] dark:bg-zinc-600 md:hidden"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-5 gap-y-[2rem] md:gap-[4rem] border-t-1 border-[#E4E4E7] md:border-0",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-between relative gap-2 md:gap-0",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Total Deposit"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{symbol:s.assetTokenSymbol,size:14}),(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium ml-[5px]",children:r})]}),(0,a.jsxs)("div",{className:"absolute bottom-[-14px] md:bottom-[-24px] text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px]",children:["~$",d]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"USB Debt"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mx-1",symbol:"USB",size:14}),(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium ml-[5px]",children:"0.00"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:[u,(0,a.jsx)(p.C,{children:"This is a margin token, representing open position in the vault."})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(W.c,{className:"mx-1",symbol:u,size:14}),(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium ml-[5px]",children:"0.00"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:["AAR",(0,a.jsx)(p.C,{children:"Asset Adequacy Ratio"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium",children:"n/a"})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Status"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium",children:"n/a"})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold leading-[12px] whitespace-nowrap",children:"Discount Offer"}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-[14px] leading-[14px] font-medium",children:"n/a"})})]})]})]}),(0,a.jsxs)("div",{className:"items-center text-xs text-[#6466F1] cursor-pointer hidden md:flex",onClick:onCollapseChange,children:[(0,a.jsx)("span",{className:"mr-[5px]",children:o?"Hide":"Details"}),o?Z:I]})]}),(0,a.jsx)(M.Collapse,{isOpened:o,className:"ease-linear",children:(0,a.jsxs)("div",{className:"w-full rounded-b-[16px] bg-[#F2F5F9] dark:bg-transparent p-4 md:p-6 dark:border-t dark:border-zinc-600",children:[(0,a.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"hidden md:flex",children:(0,a.jsx)("div",{className:"md:h-full mb-5 md:mb-0 flex items-center",children:(0,a.jsxs)("div",{className:"flex mr-[55px] items-center",children:[(0,a.jsx)(W.c,{symbol:u,size:32,className:"shrink-0"}),(0,a.jsx)("div",{className:"ml-[5px] flex flex-col justify-between",children:(0,a.jsx)("div",{className:"text-sm font-semibold",children:u})}),(0,a.jsx)(B.Z,{className:"rounded ml-4",children:"Comming soon"})]})})}),(0,a.jsx)("div",{className:"w-full  flex items-center justify-center",children:c&&s&&42==s.vault.length?(0,a.jsx)(plain_vault_VaultSimple,{vc:s}):s&&42==s.vault.length?(0,a.jsx)(q.Z,{}):(0,a.jsx)(B.Z,{className:"rounded",children:"Comming soon"})})]}),(0,a.jsx)(plain_vault_ExpandUI,{onClick:onCollapseChange,isOpen:o})]})}),!o&&(0,a.jsx)(plain_vault_ExpandUI,{onClick:onCollapseChange,isOpen:o})]})}var H=t(28874);function StrongSpan(e){let{children:s}=e;return(0,a.jsx)("span",{className:"font-extrabold",children:s})}function Vaults(){let e=(0,r.p)(),s=i.iK[e],t=i.VQ[e]||[],c=(0,x.useMemo)(()=>Object.values(o().groupBy(s,"assetTokenSymbol")),[s]);return(0,a.jsxs)("div",{className:"w-full max-w-screen-xl px-4 mx-auto md:pb-8",children:[(0,a.jsx)(n.a,{}),(0,a.jsx)("h2",{className:"page-title",children:"Vaults"}),(0,A.WA)()&&(0,a.jsxs)("div",{className:"w-full mt-2 mb-3 md:mt-4 md:mb-6 flex text-[24px] md:text-[14px] text-[#64748B] dark:text-slate-50/60 font-medium leading-[24px] md:leading-[14px]",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)(H.pMA,{size:20})}),(0,a.jsxs)("div",{className:"ml-1 text-sm ",children:["Depositing assets into Vaults allows you to earn ",(0,a.jsx)(StrongSpan,{children:"Protocol earnings"})]})]}),(0,a.jsx)(l.aG,{}),(0,a.jsxs)(d.r,{numItemsMd:1,className:"gap-3 mt-4",children:[c.map((e,s)=>(0,a.jsx)(GroupVaultCollapse,{vcs:e},"group_vault_item_".concat(s))),t.map((e,s)=>(0,a.jsx)(PlainVault,{vc:e},"plain_vault_item_".concat(s)))]})]})}},99548:function(e,s,t){"use strict";t.d(s,{v:function(){return ApproveAndTx}});var a=t(31113),l=t(19757),n=t(26361),i=t(64103),r=t(47259),d=t(22298),c=t(72366),o=t(9709),x=t(64040);let m={},useApproves=function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a,chainId:u}=(0,c.m)(),p=(0,o.t)(),{data:f}=(0,x.p)(),[h,b]=(0,i.useState)(!1),v=(0,i.useMemo)(()=>Object.keys(e).filter(e=>e!==l.K8),[e]),[g,j]=(0,i.useState)(s&&m[s]||{}),updateAllownce=(e,t)=>{s&&(m[s]={...m[s]||{},[e]:t},j(s=>({...s,[e]:t})))},N=(0,o.t)();(0,i.useEffect)(()=>{a&&s&&p&&u&&v.forEach(e=>{p.readContract({abi:d.Wo,address:e,functionName:"allowance",args:[a,s]}).then(s=>updateAllownce(e,s||0n)).catch(console.error)})},[v,u,a]);let[k,S]=(0,i.useState)(!1),w=(0,i.useMemo)(()=>v.filter(s=>(0,n.ok)(e,s)>0n&&(0,n.ok)(e,s)>(0,n.ok)(g,s)),[e,v,g]),approve=async()=>{if(0!=w.length&&s)try{S(!0),b(!1);for(let a=0;a<w.length;a++){let l=w[a],n=!1===t?e[l]:t,i=await (null==f?void 0:f.writeContract({abi:d.Wo,address:l,functionName:"approve",args:[s,n]}));i&&await (null==N?void 0:N.waitForTransactionReceipt({hash:i})),updateAllownce(l,n)}r.A.success("Approve success"),S(!1),b(!0)}catch(e){throw r.A.error((0,n.az)(e)),S(!1),b(!1),e}};return{approve,loading:k,shouldApprove:w.length>0,isSuccess:h}};var u=t(78354),p=t(88501),f=t(36762);function ApproveAndTx(e){let{className:s,tx:t,approves:l,spender:n,requestAmount:r,config:d,toast:c=!0,disabled:o,onTxSuccess:x,onApproveSuccess:m}=e,{write:h,isDisabled:b,isLoading:v}=(0,u.R)(d,{onSuccess:()=>x&&x(),autoToast:c}),g=o||b||v||!1===d.enabled,{approve:j,shouldApprove:N,loading:k,isSuccess:S}=useApproves(l||{},n,r),w=(0,i.useRef)();return(w.current=m,(0,i.useEffect)(()=>{w.current&&S&&w.current()},[S]),N)?(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",s),onClick:j,disabled:o||!j||k,children:[k&&(0,a.jsx)(f.$,{}),"Approve"]}):(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",s),onClick:()=>h(),disabled:g,children:[v&&(0,a.jsx)(f.$,{}),t]})}},91214:function(e,s,t){"use strict";t.d(s,{W:function(){return AssetInput}});var a=t(31113),l=t(26361),n=t(84944),i=t(33501),r=t(64103),d=t(45631),c=t(7530),o=t(33621),x=t(12045);function AssetInput(e){let{asset:s="ETH",checkBalance:t=!0,balance:m,balanceTit:u="Balance",balanceDecimals:p=18,exchange:f,readonly:h,selected:b,onClick:v,amount:g,setAmount:j,price:N,disable:k,hasInput:S=!1,options:w,onChange:y=()=>{},defaultValue:T,balanceClassName:A="",disableNegative:C}=e,B=(0,r.useRef)(null),U=t&&void 0!==m&&(0,l.su)("number"==typeof g?g+"":g||"")>("bigint"==typeof m?m:0n),M=(0,x.l)(e=>"dark"==e.theme);return(0,a.jsxs)("div",{className:"relative w-full",onClick:()=>{v&&!k&&v()},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[N&&(0,a.jsx)("div",{className:"text-neutral-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:N}),f&&(0,a.jsxs)("div",{className:"text-slate-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:["~$",f]})]}),(0,a.jsxs)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2",children:[(0,a.jsx)(o.c,{size:24,symbol:s}),(0,a.jsx)("div",{className:(0,i.Z)("relative",N||f?"-top-[6px]":""),children:S?(0,a.jsx)(d.ZP,{options:w,onChange:y,defaultValue:T,styles:{control:(e,s)=>({...e,border:"0px",outline:"none",boxShadow:"none",borderRadius:"0px",minHeight:"24px",padding:"0px",background:"transparent"}),singleValue:(e,s)=>({...e,color:M?"#fff":"#000"}),valueContainer:(e,s)=>({...e,padding:"0px"}),menu:(e,s)=>({...e,margin:0,background:M?"#444":"#fff"}),option:(e,s)=>({...e,color:M?"#fff":"#000",background:M?"transparent":"#fff"}),menuPortal:(e,s)=>({...e,margin:0})}}):(0,a.jsx)("div",{children:s})})]}),(0,a.jsx)("input",{value:g,onChange:e=>{let s=(e.target.value||"").replaceAll("-","").replaceAll("+","");j(s)},ref:B,type:"number",disabled:k,className:(0,i.Z)(h?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent",{"border-green-700 border-2":b,"border-red-400 !border-2 focus:border-red-400":U,"border-slate-400  focus:border-blue-400":!U&&!b},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none dark:text-slate-50"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:h})]}),void 0!=m&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 dark:text-slate-50/70 text-sm",children:[(0,a.jsxs)("div",{className:A,children:[(0,a.jsxs)("span",{children:[u,": ",(0,n.Rp)(m,3,p)]}),(0,a.jsx)("button",{className:"text-indigo-500 dark:text-violet-300 ml-2",onClick:()=>{let e=(0,c.b)(m,p);j(e),v&&!k&&v()},children:"Max"})]}),(0,a.jsx)("div",{className:"text-sm text-red-400",children:U?"Insufficient account balance":""})]})]})}},2794:function(e,s,t){"use strict";t.d(s,{IS:function(){return useBlastPointsItems},aG:function(){return BlastPointCards}});var a=t(31113),l=t(26361),n=t(33621),i=t(73216),r=t(19757),d=t(90168),c=t(59175),o=t(15948),x=t(45438),m=t(47518),u=t(76034),p=t(75930),f=t(84944),h=t(64103),b=t(73083),v=t(84570),g=t(42341),j=t(12045);let N={USB:"rgba(226, 254, 182, 1)",USB_dark:"#E2FEB6",ETHx:"rgba(238, 234, 254, 1)",IPx:"rgba(238, 234, 254, 1)",ETHx_dark:"linear-gradient(90deg, #C2B7FD 0%, #746D97 100%)",IPx_dark:"linear-gradient(90deg, #C2B7FD 0%, #746D97 100%)",USDBx:"linear-gradient(90deg, rgba(16, 185, 129, 0.25) 0%, rgba(99, 102, 241, 0.25) 100%)",USDBx_dark:"linear-gradient(90deg, #C2B7FD 0%, #6366F1 100%)"},k={USB:"rgba(196, 241, 126, 1)",ETHx:"rgba(219, 210, 255, 1)",IPx:"rgba(219, 210, 255, 1)",USDBx:"rgba(255, 255, 255, 1)"};function useBlastPointsItems(){let e=(0,c.p)(),{prices:s,usbApr:t}=(0,h.useContext)(p.g),a=(0,u.a)(),n=(0,x.i)(),d=(0,m.m)(),o=(0,h.useMemo)(()=>{let t=[],n=r.iK[e];if(i.DF.find(s=>s.id==e)){let c=s[r.K8],o=s[r.O1[e]],calcPoint=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100n;return 0n==c?"0":(0,f.Rp)(6504987n*302400n*e*s/c,0,8)};t.push({symbol:"USB",tit:"APY:".concat((0,l.Jh)(d[r.O1[e]],10)," ~ ").concat((0,l.Jh)(d.USB_END,10)),sub:"~ Interest + Earning",point:calcPoint(o),per:100}),n.filter(e=>"USDB"==e.assetTokenSymbol||e.assetTokenSymbol==(0,i.b)()).forEach(e=>{let n=e.assetTokenSymbol==(0,i.b)()?"".concat((0,i.b)()," GAIN BOOSTER"):"APY:".concat((0,l.Jh)(d[e.xTokenAddress],10)),r=e.isStable&&(0,i.WA)()?"~ ".concat(a[e.vault].toFixed(2),"x Blast Native Yield"):"~ ".concat(a[e.vault].toFixed(2),"x Leveraged long on ").concat(e.assetTokenSymbol);t.push({symbol:e.xTokenSymbol,tit:n,sub:r,point:calcPoint(s[e.xTokenAddress],e.xTokenSymbol=="".concat((0,i.b)(),"x")?1n:100n),per:e.xTokenSymbol=="".concat((0,i.b)(),"x")?1:100})})}return t},[e,s,a,t,n]);return o}function BlastPointCard(e){let{symbol:s,tit:t,sub:o,point:x}=e,m=(0,c.p)(),u=(0,h.useMemo)(()=>{var e,t;let a=(0,d.l)(m,!1),n={USB:"USDB",["".concat((0,i.b)(),"x")]:(0,i.b)(),USDBx:"USDB"},c=null===(e=a.find(e=>e.symbol==n[s]))||void 0===e?void 0:e.address,o=null===(t=a.find(e=>e.symbol==s))||void 0===t?void 0:t.address;if(!c||!o)return"";let convertNative=e=>e==r.K8?"0x0000000000000000000000000000000000000000":e;return(0,l.h$)(convertNative(c),convertNative(o))},[m]),p=(0,j.l)(e=>e.theme);return(0,a.jsxs)("div",{style:{boxShadow:"0px 0px 12px 0px rgba(187, 215, 144, 0.4)"},className:"rounded-2xl overflow-hidden bg-white text-base flex flex-col dark:bg-slate-950",children:[(0,a.jsxs)("div",{className:"flex md:flex-wrap items-center p-4 gap-2 dark:text-black",style:{background:N["".concat(s,"_").concat(p)]||N[s]},children:[(0,a.jsx)(n.c,{symbol:s,size:42,className:"shrink-0"}),(0,a.jsx)("div",{className:"font-semibold",children:s}),(0,a.jsxs)("div",{className:"whitespace-nowrap text-center text-sm ml-auto flex flex-col items-center flex-1",children:[(0,a.jsx)("div",{className:"rounded-full px-2 py-[2px] w-fit",style:{background:k[s]},children:t}),(0,a.jsx)("div",{className:"mt-1",children:o})]})]}),(0,a.jsx)("div",{className:"flex justify-between p-4 whitespace-nowrap text-sm items-center gap-2",children:(0,a.jsxs)("a",{className:"underline text-slate-500 dark:text-slate-50 flex items-center gap-1",href:u,target:"_blank",children:["Swap on Thruster ",(0,a.jsx)(b.Ig3,{})]})})]})}function BlastPointCards(){let e=useBlastPointsItems(),[s,t]=(0,o.n)(e=>{let{width:s}=e;return s<970});return 0==e.length?null:(0,a.jsxs)("div",{ref:s,className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:pb-[60px]",children:[!t&&e.map(e=>(0,a.jsx)(BlastPointCard,{...e},e.symbol)),t&&(0,a.jsx)(g.tq,{spaceBetween:20,pagination:{clickable:!0,renderBullet:function(e,s){return'<div class="'+s+'"></div>'}},className:"-translate-x-[1rem] !px-4 !pb-10 !w-screen",modules:[v.tl],children:e.map(e=>(0,a.jsx)(g.o5,{children:(0,a.jsx)(BlastPointCard,{...e})},e.symbol))})]})}},35664:function(e,s,t){"use strict";t.d(s,{Z:function(){return ConnectBtn}});var a=t(31113),l=t(28767),n=t(44726);function ConnectBtn(){return(0,n.Z)(1024),(0,a.jsx)(l.NL,{chainStatus:"none",showBalance:!1})}},12045:function(e,s,t){"use strict";t.d(s,{h:function(){return ThemeMode},l:function(){return c}});var a=t(31113),l=t(26361),n=t(64103),i=t(69426),r=t(48338),d=t(2987);let getThemeState=()=>{let e="light",s="light";return"dark"!==localStorage.theme&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.remove("dark"),e="light",s="light"):(document.documentElement.classList.add("dark"),e="dark",s="dark"),"theme"in localStorage||(e="system"),{themeMode:e,theme:s}},c=(0,r.Ue)(e=>({...getThemeState(),setThemeMode:s=>e(()=>({themeMode:s})),setTheme:s=>e(()=>({theme:s}))})),o={light:(0,a.jsx)(i.EWX,{}),dark:(0,a.jsx)(i.Dq,{}),system:(0,a.jsx)(i.pUp,{})};function ThemeMode(){let e=c(),onChangeTheme=()=>{let{theme:s,themeMode:t}=getThemeState();e.setTheme(s),e.setThemeMode(t)};(0,n.useEffect)(()=>{onChangeTheme()},[]);let onClick=e=>{"System"==e?localStorage.removeItem("theme"):localStorage.theme=e.toLocaleLowerCase(),onChangeTheme()};return(0,a.jsx)(d.o,{className:"max-w-[200px] py-10 flex flex-col text-base text-stone-500 dark:text-white",trigger:(0,a.jsx)("div",{className:"text-xl",children:o[e.theme]}),children:["Light","Dark","System"].map((s,t)=>(0,a.jsxs)("div",{className:(0,l.cn)("flex px-5 items-center py-2 gap-3 cursor-pointer",{"bg-stone-100 dark:bg-zinc-700":s.toLowerCase()==e.themeMode}),onClick:()=>onClick(s),children:[(0,a.jsx)("div",{className:"text-2xl",children:o[s.toLowerCase()]}),(0,a.jsx)("span",{className:"",children:s})]},"theme_mode_"+s))})}},6371:function(e,s,t){"use strict";t.d(s,{C:function(){return Tip}});var a=t(31113),l=t(26361),n=t(52653),i=t(66733);function Tip(e){let{children:s,node:t,className:r,inFlex:d}=e,c=document.getElementById("tooltip-root");return s?(0,a.jsx)(n.zt,{children:(0,a.jsxs)(n.fC,{children:[(0,a.jsx)(n.xz,{asChild:!0,onClickCapture:e=>{e.preventDefault(),e.stopPropagation()},children:t?(0,a.jsx)("div",{className:(0,l.cn)("inline-block cursor-default",r),style:{verticalAlign:"text-bottom"},children:t}):(0,a.jsx)("div",{className:(0,l.cn)(d?"flex":"translate-y-[-6%] inline-block"," px-[3px] cursor-default relative",r),children:(0,a.jsx)(i.apP,{className:"inline-block stroke-slate-500"})})}),(0,a.jsx)(n.h_,{container:c,children:(0,a.jsxs)(n.VY,{className:"max-w-xs text-sm text-white bg-slate-900 shadow-lg dark:bg-[#333333] rounded-md p-4",children:[s,(0,a.jsx)(n.Eh,{})]})})]})}):t}},15948:function(e,s,t){"use strict";t.d(s,{n:function(){return useElementSizeCheck}});var a=t(85665);function useElementSizeCheck(e){let[s,t]=(0,a.Z)();return[s,e(t)]}},47518:function(e,s,t){"use strict";t.d(s,{m:function(){return useTokenApys}});var a=t(26361),l=t(88439),n=t(45438),i=t(76034),r=t(64103),d=t(75930),c=t(59175),o=t(19757),x=t(12396);function useTokenApys(){let e=(0,l.b)(()=>(0,a.Yb)({},0n)),s=(0,c.p)(),{prices:t,usbApr:m,stableVaultsState:u}=(0,r.useContext)(d.g),p=(0,i.a)(),f=(0,n.i)();return(0,r.useMemo)(()=>{let t=o.iK[s],l=(0,a.ok)(f[t[0].ptyPoolBelowAddress],"staking");e[o.O1[s]]=m.apr,e.USB_END=m.apr+l;let n=(0,x.v)("0.1",10);return t.forEach(s=>{if(s.assetTokenAddress!=o.K8){let t=p[s.vault]>1n?(0,x.v)("".concat((p[s.vault]-1).toFixed(2)),10):0n,a=(0,x.v)("1",10);e[s.xTokenAddress]=(t*(n-u[s.vault].Y*u[s.vault].aar/a)+n*a)/a}}),null},[s,t,p,m,f,u]),e}},76034:function(e,s,t){"use strict";t.d(s,{a:function(){return useValutsLeverageRatio},z:function(){return useVaultLeverageRatio}});var a=t(19757),l=t(26361),n=t(75930),i=t(64103),r=t(59175),d=t(88439);function useVaultLeverageRatio(e){let{vaultsState:s,stableVaultsState:t}=(0,i.useContext)(n.g),a=s[(null==e?void 0:e.vault)||"null"],r=t[(null==e?void 0:e.vault)||"null"],d=(null==e?void 0:e.isStable)?(0,l.pF)(r.aar,r.AARDecimals):(0,l.pF)(a.aar,a.AARDecimals);return Math.max(0,1+1/(d-1))}function useValutsLeverageRatio(){let{vaultsState:e,stableVaultsState:s}=(0,i.useContext)(n.g),t=(0,r.p)(),c=a.iK[t],o=(0,d.b)(()=>new Proxy({},{get:function(e,s){return s in e&&null!==e[s]&&void 0!==e[s]?e[s]:0}}));return c.forEach(t=>{let a=e[(null==t?void 0:t.vault)||"null"],n=s[(null==t?void 0:t.vault)||"null"],i=(null==t?void 0:t.isStable)?(0,l.pF)(n.aar,n.AARDecimals):(0,l.pF)(a.aar,a.AARDecimals);o[t.vault]=Math.max(0,1+1/(i-1))}),o}},78354:function(e,s,t){"use strict";t.d(s,{R:function(){return useWrapContractWrite}});var a=t(26361),l=t(64103),n=t(47259),i=t(9709),r=t(64040),d=t(15506);function useWrapContractWrite(e,s){let{autoToast:t=!0,onSuccess:c}=s||{},[o,x]=(0,l.useState)(!1),[m,u]=(0,l.useState)(!1),p=(0,i.t)(),{data:f}=(0,r.p)(),h=!p||!f||!f.account||o||!e,b=(0,d.hp)(),write=async()=>{if(!h){x(!0),u(!1);try{let s="function"==typeof e?await e():e,{request:a}=await p.simulateContract({account:f.account,...s}),l=await f.writeContract(a),i=await p.waitForTransactionReceipt({hash:l});if("success"!==i.status)throw"Transaction reverted";u(!0),c&&c(),t&&n.A.success("Transaction success"),b.update()}catch(e){t&&n.A.error((0,a.az)(e))}x(!1)}};return{write,isDisabled:h,isLoading:o,isSuccess:m}}}},function(e){e.O(0,[7495,4643,7588,2659,4176,5169,4775,4320,9468,2639,6209,131,7869,8410,5166,8347,5631,2653,5513,9842,1578,7638,553,7093,604,1744],function(){return e(e.s=37122)}),_N_E=e.O()}]);